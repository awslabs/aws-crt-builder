FROM quay.io/pypa/musllinux_1_1_x86_64

###############################################################################
# Basics
###############################################################################
RUN apk update && apk add sudo py3-pip

################################################################################
## Python/AWS CLI
################################################################################
WORKDIR /tmp
RUN python3 -m pip install awscli \
    && aws --version

#################################################################################
### Install entrypoint
#################################################################################
ADD entrypoint.sh /usr/local/bin/builder
RUN chmod a+x /usr/local/bin/builder
ENTRYPOINT ["/usr/local/bin/builder"]
